$(document).ready(function(){function e(e){var n;return $.ajax({url:"libraries/"+e+"/lib.json",type:"GET",async:!1,success:function(e){n=e,console.log("recieved json:"),console.log(n)},error:function(e){console.log("Error happened in AJAX Request!!")}}),n}function n(e){var n;return $.ajax({url:e,type:"GET",async:!1,success:function(e){n=e,console.log("recieved readme:")},error:function(e){console.log("Error happened in AJAX Request!!")}}),n}function o(){if(0===$(".editRegion").length){1===$(".faq").length&&$(".faq").remove();var e="";e+='<div class="row editRegion">',e+='    <div class="readme"></div>',e+='    <div class="options">',e+='        <button class="addButton"> >>> </button>',e+='        <div class="languages"></div>',e+='        <div class="versions">',e+='            <select class="versionsDropdown" name="select-version"></select>',e+="        </div>",e+='        <span class="copySuccess">Copied!</span>',e+="    </div>",e+='    <div class="importrLinks">',e+='        <span class="copyButton fa fa-files-o"></span>',e+='        <ul class="cdnLinks"></ul>',e+="    </div>",e+="</div>",$("body").append(e),$(".cdnLinks").sortable({cursor:"move",containment:"parent",axis:"y",cancel:".deleteLink",start:function(e,n){u=n.item.index()},stop:function(e,n){v=n.item.index(),g.move(u,v)}}),s()}}function s(){l=new Clipboard(".copyButton",{text:function(e){return i()}}),l.on("success",function(e){t(e)}),l.on("error",function(e){console.error("Action:",e.action),console.error("Trigger:",e.trigger)})}function t(e){$(".copySuccess").fadeIn("200"),$(".copySuccess").fadeOut("400")}function i(){for(var e="",n=0;n<g.length;n++)e=e+g[n]+"\n";return e}function r(e){$(".versionsDropdown").empty();for(var n=0;n<e.length;n++)$(".versionsDropdown").append('<option value="'+e[n]+'">'+e[n]+"</option>")}function a(e){$(".editRegion .languages").empty();var n=0;$.each(e,function(e,o){if(o){var s="";s=s+'<label for="language"><input type="radio" name="language" value="'+e+'" ',0==n&&(s+="checked",n++);var t=e.toUpperCase();s=s+"><span>"+t+"</span></label>",$(".editRegion .languages").append(s)}})}function c(e,n,o){var s="{version}",t=new RegExp(s,"g"),i=e.replace(t,o);s="{type}",t=new RegExp(s,"g"),i=i.replace(t,n),s="{minifiedState}",t=new RegExp(s,"g"),i=i.replace(t,"");var r="",a='<span class="tag">';"css"==n?(a=a+'&ltlink href="'+i+'" rel="stylesheet" type="text/css"&gt',r=r+'<link href="'+i+'" rel="stylesheet" type="text/css">'):(a=a+'&ltscript src="'+i+'"&gt&lt/script&gt',r=r+'<script src="'+i+'"></script>'),a+="</span>";var c='<span class="deleteLink fa fa-times"></span>';$(".importrLinks .cdnLinks").append('<li class="cdnLink">'+a+c+"</li>"),g.push(r)}var l,d,p=0,u=0,v=0,g=[];Array.prototype.move=function(e,n){if(n>=this.length)for(var o=n-this.length;o--+1;)this.push(void 0);return this.splice(n,0,this.splice(e,1)[0]),this},$("body").on("click",".deleteLink",function(e){console.log($(this));var n=$(this).closest(".cdnLink"),o=$(".cdnLink").index(n);g.splice(o,1),n.remove()}),$("body").on("click",".addButton",function(e){var n=d.cdnLinkStructure,o=$('.editRegion .languages input[name="language"]:checked').val(),s=$(".editRegion .versionsDropdown").val();c(n,o,s)}),$("body").on("search",function(s){var t=s.searchString;if(console.log("searched: "+t),""==t)console.error("Searched For an EMPTY String!");else{var i=e(t);d=i;var c=n(i.readme);o(),p=1;var l=new showdown.Converter,u=l.makeHtml(c);$(".readme").html(u),r(i.versions),a(i.languages)}}),$("body").on("click",".link",function(e){""!=$(this).data("href")&&(window.location.href=$(this).data("href"))})});