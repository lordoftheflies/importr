$(document).ready(function(){function e(e){var n;return $.ajax({url:"libraries/"+e+"/package.json",type:"GET",async:!1,success:function(e){n=e,console.log("recieved json:"),console.log(n)},error:function(e){console.log("Error happened in AJAX Request!!")}}),n}function n(e){var n;return $.ajax({url:e,type:"GET",async:!1,success:function(e){n=e,console.log("recieved readme:")},error:function(e){console.log("Error happened in AJAX Request!!")}}),n}function s(){if(0===$(".editRegion").length){1===$(".faq").length&&$(".faq").remove();var e="";e+='<div class="row editRegion">',e+='    <div class="readme"></div>',e+='    <div class="options">',e+='        <button class="addButton"> >>> </button>',e+='        <div class="languages"></div>',e+='        <div class="versions">',e+='            <select class="versionsDropdown" name="select-version"></select>',e+="        </div>",e+='        <span class="copySuccess">Copied!</span>',e+="    </div>",e+='    <div class="importrLinks">',e+='        <span class="copyButton fa fa-files-o"></span>',e+='        <ul class="cdnLinks"></ul>',e+="    </div>",e+="</div>",$("body").append(e),$(".cdnLinks").sortable({cursor:"move",containment:"parent",axis:"y",cancel:".deleteLink",start:function(e,n){u=n.item.index()},stop:function(e,n){v=n.item.index(),g.move(u,v)}}),o()}}function o(){l=new Clipboard(".copyButton",{text:function(e){return i()}}),l.on("success",function(e){t(e)}),l.on("error",function(e){console.error("Action:",e.action),console.error("Trigger:",e.trigger)})}function t(e){$(".copySuccess").fadeIn("200"),$(".copySuccess").fadeOut("400")}function i(){for(var e="",n=0;n<g.length;n++)e=e+g[n]+"\n";return e}function r(e){$(".versionsDropdown").empty();for(var n=0;n<e.length;n++)$(".versionsDropdown").append('<option value="'+e[n]+'">'+e[n]+"</option>")}function a(e){$(".editRegion .languages").empty();var n=0;$.each(e,function(e,s){if(s){var o="";o=o+'<label for="language"><input type="radio" name="language" value="'+e+'" ',0==n&&(o+="checked",n++);var t=e.toUpperCase();o=o+"><span>"+t+"</span></label>",$(".editRegion .languages").append(o)}})}function c(e,n,s){var o="{version}",t=new RegExp(o,"g"),i=e.replace(t,s);o="{type}",t=new RegExp(o,"g"),i=i.replace(t,n),o="{minifiedState}",t=new RegExp(o,"g"),i=i.replace(t,"");var r="",a='<span class="tag">';"css"==n?(a=a+'&ltlink href="'+i+'" rel="stylesheet" type="text/css"&gt',r=r+'<link href="'+i+'" rel="stylesheet" type="text/css">'):(a=a+'&ltscript src="'+i+'"&gt&lt/script&gt',r=r+'<script src="'+i+'"></script>'),a+="</span>";var c='<span class="deleteLink fa fa-times"></span>';$(".importrLinks .cdnLinks").append('<li class="cdnLink">'+a+c+"</li>"),g.push(r)}var l,p,d=0,u=0,v=0,g=[];Array.prototype.move=function(e,n){if(n>=this.length)for(var s=n-this.length;s--+1;)this.push(void 0);return this.splice(n,0,this.splice(e,1)[0]),this},$("body").on("click",".deleteLink",function(e){console.log($(this));var n=$(this).closest(".cdnLink"),s=$(".cdnLink").index(n);g.splice(s,1),n.remove()}),$("body").on("click",".addButton",function(e){var n=p.cdnLinkStructure,s=$('.editRegion .languages input[name="language"]:checked').val(),o=$(".editRegion .versionsDropdown").val();c(n,s,o)}),$("body").on("search",function(o){var t=o.searchString;console.log("searched: "+t);var i=e(t);p=i;var c=n(i.readme);s(),d=1;var l=new showdown.Converter,u=l.makeHtml(c);$(".readme").html(u),r(i.versions),a(i.languages)})});