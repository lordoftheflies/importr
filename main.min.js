$(document).ready(function(){function e(e){var n;return $.ajax({url:"libraries/"+e+"/package.json",type:"GET",async:!1,success:function(e){n=e,console.log("recieved json:"),console.log(n)},error:function(e){console.log("Error happened in AJAX Request!!")}}),n}function n(e){var n;return $.ajax({url:e,type:"GET",async:!1,success:function(e){n=e,console.log("recieved readme:")},error:function(e){console.log("Error happened in AJAX Request!!")}}),n}function s(){if(0===$(".editRegion").length){var e="";e+='<div class="row editRegion">',e+='    <div class="readme"></div>',e+='    <div class="options">',e+='        <button class="addButton"> >>> </button>',e+='        <div class="languages"></div>',e+='        <div class="versions">',e+='            <select class="versionsDropdown" name="select-version"></select>',e+="        </div>",e+="    </div>",e+='    <div class="importrLinks">',e+='        <span class="copyButton fa fa-files-o"></span>',e+='        <ul class="cdnLinks"></ul>',e+="    </div>",e+="</div>",$("body").append(e),$(".cdnLinks").sortable({cursor:"move",containment:"parent",axis:"y",cancel:".deleteLink"}),new Clipboard(".copyButton",{text:function(e){return a()}})}}function a(){for(var e="",n=0;n<l.length;n++)e=e+l[n]+"\n";return e}function o(e){$(".versionsDropdown").empty();for(var n=0;n<e.length;n++)$(".versionsDropdown").append('<option value="'+e[n]+'">'+e[n]+"</option>")}function t(e){$(".editRegion .languages").empty();var n=0;$.each(e,function(e,s){if(s){var a="";a=a+'<label for="language"><input type="radio" name="language" value="'+e+'" ',0==n&&(a+="checked",n++);var o=e.toUpperCase();a=a+"><span>"+o+"</span></label>",$(".editRegion .languages").append(a)}})}function i(e,n,s){var a="{version}",o=new RegExp(a,"g"),t=e.replace(o,s);a="{type}",o=new RegExp(a,"g"),t=t.replace(o,n),a="{minifiedState}",o=new RegExp(a,"g"),t=t.replace(o,"");var i="",r='<span class="tag">';"css"==n?(r=r+'&ltlink href="'+t+'" rel="stylesheet" type="text/css"&gt',i=i+'<link href="'+t+'" rel="stylesheet" type="text/css">'):(r=r+'&ltscript src="'+t+'"&gt&lt/script&gt',i=i+'<script src="'+t+'"></script>'),r+="</span>";var c='<span class="deleteLink fa fa-times"></span>';$(".importrLinks .cdnLinks").append('<li class="cdnLink">'+r+c+"</li>"),l.push(i)}var r,c=0,l=[];$("body").on("click",".deleteLink",function(e){console.log($(this));var n=$(this).closest(".cdnLink"),s=$(".cdnLink").index(n);l.splice(s,1),n.remove()}),$("body").on("click",".addButton",function(e){var n=r.cdnLinkStructure,s=$('.editRegion .languages input[name="language"]:checked').val(),a=$(".editRegion .versionsDropdown").val();i(n,s,a)}),$("body").on("search",function(a){var i=a.searchString;console.log("searched: "+i);var l=e(i);r=l;var d=n(l.readme);s(),c=1;var p=new showdown.Converter,u=p.makeHtml(d);$(".readme").html(u),o(l.versions),t(l.languages)})});